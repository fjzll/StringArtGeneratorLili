String Art Generator MVP 需求文档
一、产品概述
String Art Generator 是一个纯前端、零安装、即开即用的单页面 (SPA) 工具站。用户只需拖拽或选择图片，几秒内即可生成可打印的钉线艺术草图。
用户痛点
	•	手工准备繁琐：传统 DIY 绕线需先用 Photoshop／Illustrator 手动描边、调整对比度，再手绘钉点布局，流程复杂且容易出错。
	•	软件门槛高：专业图像处理软件价格高且学习曲线陡峭，普通用户难以快速得到可用模板。
	•	缺乏即时反馈：多数在线教程提供的模板固定，无法根据个人照片实时预览效果，导致材料浪费和成品不理想。
核心目标
	•	极简体验：页面加载 <2 s，三步完成「上传 → 调参 → 下载」。
	•	高速算法：在浏览器线程内完成边缘检测与钉点布局，10 MB 图片在 3 s 内转换完毕。
	•	落地友好：输出高对比度钉点图与绕线顺序建议，适合打印或 iPad 参考。
	•	可扩展性：预留钉点数、颜色层数、分辨率等参数接口，为 Pro 版本与 AI 优化打好基础。
通过聚焦这一垂直创意手工场景，MVP 以「快速、免费、无需注册」为差异化卖点，吸引首批用户并验证高级付费功能（高分辨率下载、批量生成等）可行性。
二、目标用户画像
	•	DIY / 手工艺爱好者
	•	场景：在家制作挂画、装饰品
	•	痛点：手工排钉、绕线前缺乏精确的图案参考
	•	价值：提供高分辨率的钉点布局图，减少试错成本
	•	个性化礼物定制者
	•	场景：为生日/纪念日制作独特礼物
	•	痛点：设计创意不足、时间有限
	•	价值：一键生成独特图案，快速制作走心礼物
	•	摄影 / 插画创作者
	•	场景：将作品延伸为线条艺术周边
	•	痛点：现有工具门槛高、流程复杂
	•	价值：无需专业软件即可批量生成线稿，提高附加价值
	•	教育者 / 艺术教师
	•	场景：课堂示范 STEM + 艺术跨学科项目
	•	痛点：缺乏直观示例、准备时间长
	•	价值：生成可打印的教学范例，降低备课成本
共性需求：简单操作、快速出图、支持不同分辨率；差异化需求：分辨率/颜色模式、钉点数量、导出格式等。
三、核心功能
	•	图片上传
	•	支持 JPG、PNG，文件大小 ≤ 10 MB，像素 ≤ 6000 × 6000 px。
	•	建议长宽比在 1:1 ± 20% 以内；上传后自动压缩至 2000 px 以内用于本地预览。
	•	参数设置
	•	钉点数量：预设 60 / 120 / 180，可自定义 40–360，步长 20。
	•	钉点布局：首版固定「圆形」，后续规划支持「正方形」「心形」等。
	•	效果生成
	•	浏览器端算法流程：灰度化 → Canny 边缘检测 → 贪心最短路径计算绕线顺序。
	•	性能基准：10 MB、3000 px 图片在 M1 Mac ≤ 2.5 s；中端安卓机 ≤ 6 s。
	•	实时预览
	•	800 × 800 px 缩略图，可切换背景色与线色。
	•	下载
	•	MVP 提供 PNG（800 px）；v1.1 规划新增 SVG 向量与 PDF 打印模板。
	•	可选择附带钉点坐标与绕线顺序 JSON，便于高级用户二次开发。
	•	异常处理
	•	文件超限、格式不符或算法超时时弹出 Toast，指引用户压缩图片或降低参数。
四、界面草图

五、技术栈
	•	核心算法：基于开源项目 halfmonty/StringArtGenerator（MIT），打包为 WebAssembly 在浏览器执行。
	•	前端：React + Tailwind 单页应用；Vite 构建；FileReader 处理本地预览。
	•	后端（可选）：Node.js (Express) 仅托管静态资源与匿名日志，图像处理完全在客户端完成。
	•	构建/部署：GitHub Actions 自动测试 → Vercel 一键部署。
	•	浏览器兼容：Chrome 96+、Edge 96+、Safari 15+、Firefox 95+（需支持 WebAssembly & ES2020）。
	•	性能监测：WebVitals + PostHog（匿名）收集加载与转换耗时，不存用户图片。
	•	隐私声明：所有图片数据仅在本地浏览器内存处理，不上传服务器；刷新即清空缓存。
	•	开源合规：已保留 halfmonty/StringArtGenerator 版权头注，符合 MIT 许可要求。
五、定价与用户体验
版本
功能
价格
免费
基础分辨率 (≤800 px)、黑白模式、最多 120 钉点
$0
Pro
高分辨率、彩色模式、最多 360 钉点、批量生成
订阅 $5/月 或 $2/次
六、AI 增强（未来规划）
说明：以下功能不包含在本次 MVP 交付范围，拟在 v1.2 及以后版本评估迭代。
	•	路径智能优化：结合强化学习或遗传算法，根据图像特征自动规划最短绕线路径，减少线材使用 15–30%。
	•	多层色彩风格化：使用 Vision Transformer 提取主题色，生成分层彩线方案并输出分步绕线顺序。
	•	个性化参数推荐：基于用户历史作品与图片特征，预测最佳钉点数、线粗细及阈值；实时预览阶段给出动态提示。
	•	文本到线稿生成：集成 Diffusion / DALLE3 模型，支持输入文本直接生成抽象底图并转换为 String Art 模板。
	•	AI 教程助手：采用 LLM 自动生成绕线步骤、材料清单、时长估算并导出 PDF 指南。
优先级：1) 路径优化 & 个性化推荐 → 2) 色彩风格化 → 3) 文本生成 & 教程助手。
七、术语解释
	•	钉点 (Pin)：用来固定线材的小钉子，每个钉点都有唯一编号。
	•	绕线顺序 (Path)：从某钉点出发依次连接其他钉点的线路次序，用于指导实际绕线。
	•	缩略图 (Thumbnail)：浏览器端生成的 800 px 预览，用于快速查看效果。
八、隐私与合规
	•	本地处理：所有图片数据仅在浏览器内存中处理，不上传、不持久化。
	•	内容权属：用户对上传图片及生成结果拥有全部版权，平台仅在服务过程中瞬时使用。
	•	许可证遵循：核心算法遵循 MIT 许可，已完整保留原项目版权。
